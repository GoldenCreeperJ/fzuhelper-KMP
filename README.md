# 开发者指南



## 架构
### 仓库层
仓库层包含大部分的网络逻辑，所有的网络逻辑必须用flow来包装，来供viewModel使用，

### ViewModel
viewModel处理大部分的逻辑，并为ui提供了网络访问能力，它时仓库层和ui层的桥梁，同时它应存储网络请求的状态，来通知ui更新
其中的网络状态应使用flow 网络请求的状态应该禁止ui直接更改，而是依赖viewModel的内部函数来完成，ui仅仅只有监听的权力

### UI
主要采用voyager，ui应时刻考虑自适应的屏幕大小，voyager类的参数要特别关注，因为voyager可能为其序列化，请用注解标记他们跳过序列化
ui应主要负责ui的绘画而将逻辑委托给viewModel层，ui应只保留非常重要的参数，以便他们可以在任何地方重新使用
#### 沉浸式效果
对于的任何继承voyager 的screen 或 tab 应该有parentPaddingControl 参数，用来传递父布局对于子布局的上下padding控制
子布局对于父布局的约束进行自定义，理论上来说，父布局除了topbar和底部栏外应该给予子布局足够的自定义权限，而子布局对于父布局的约束有履行的义务，但是对于部分特殊布局，子布局仍可以无视父布局的约束，
但这必须用注释来为接下来的开发者提示